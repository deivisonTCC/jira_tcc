#{extends 'include.html' /} 
#{set title:'Filtrar Tasks por Responsavel e Status' /}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:rich="http://richfaces.org/rich">

<body>
	
	<form id="form" action="@{Issues.filtarTasksResponsavelStatus}" method="get" >
		<div style="width: 100%" align="center">
			<div style="width: 30%" align="center">
				<table class="table table-bordered" align="center" width="100%">
					<caption> Buscar por Tarefas </caption>
					<thead>
						<tr>
							<td>
								<input id="checkResponsavel" type="checkbox" name="checkResponsavel"/>
							</td>
							<td>
								Responsável:
							</td>
							<td align="left">
								<input type="text" name="responsavel" class="form-control" />
							</td>
						</tr>
						<tr>
							<td>
								<input id="checkSituacao" type="checkbox" name="checkSituacao" />
							</td>
							<td>
								Situação:
							</td>
							<td align="left">
								<select name="status">
									<option value="0" > --Selecione-- </option>
									#{list items: todosOsStatus, as:'status'}
										<option value="${status.id}">${status.pname}</option>
									#{/list}
								</select>
							</td>
						</tr>
		
					</thead>
					<tfoot align="center">
						<tr>
							<td colspan="3">
								<input type="submit" value="Buscar"/>
							</td>
						</tr>
					</tfoot>
				</table>
			</div>
		</div>
	</form>
	
	#{if tarefas.empty}
		<div align="center">
			<p style="color: red;"> Nenhuma Tarefa relacionada no sistema. </p>
		</div>
	#{/if}

	#{if !tarefas.empty}
		<table class="table table-striped table-bordered">
			<tr>
				<th width="1%" align="center"> 
				</th>
				<th width="1%" align="center"> 
					Id
				</th>
				<th width="1%" align="center"> 
					Projeto 
				</th>
				<th width="1%" align="center"> 
					Descrição
				</th>
				<th width="1%" align="center"> 
					Aberta Por
				</th>
				<th width="1%" align="center"> 
					Responsável 
				</th>
				<th width="1%" align="center"> 
					Situação 
				</th>
				<th width="1%" align="center"> 
					Prioridade 
				</th>
				<th width="1%" align="center"> 
					Tipo 
				</th>
			</tr>
			
			#{list items: tarefas, as:'tarefa'}
				<tr>
					<td>
						<input type="checkbox" value="TRUE" />
					</td>
					<td align="center">
						${tarefa.id}
					</td>
					
					<td align="center">
						${tarefa.nomeDoProjeto}
					</td>
					
					<td align="center">
						${tarefa.summary}
					</td>
					
					<td align="center">
						${tarefa.creator}
					</td>
					
					<td align="center">
						${tarefa.assignee}
					</td>
					
					<td align="center">
						${tarefa.situacaoDoStatus}
					</td>
					
					<td align="center">
						${tarefa.prioridade}
					</td>
					
					<td align="center">
						${tarefa.tipo}
					</td>
				</tr>
			#{/list}
		</table>
	#{/if}
	
	<table align="center" width="100%">
		<tfoot>
			<tr align="center">
				<td align="center"> 
					<button type="button" class="btn btn-success" onclick="cadastrar">Cadastrar</button> 
				</td>
			</tr>
		</tfoot>
	</table>
	
	</body>
</html>
